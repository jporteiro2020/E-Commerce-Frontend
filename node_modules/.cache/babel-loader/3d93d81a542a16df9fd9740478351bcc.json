{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jonatan Porteiro\\\\Documents\\\\Proyecto Senpai\\\\tienda-react\\\\src\\\\components\\\\busqueda.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\"; //import './comun.css';\n\nimport './tienda.css';\nimport SectionArticulo from './sectionArticulo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Busqueda() {\n  _s();\n\n  console.log('llego');\n  let {\n    stringBusqueda\n  } = useParams();\n  const [productosBusqueda, cambiarProductosBusqueda] = useState([]);\n  useEffect(() => {\n    if (!stringBusqueda) return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"No hay productos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 36\n    }, this);\n    Promise.all([fetch(`http://localhost:4000/obtProductos?busqueda=${stringBusqueda}`, {\n      method: \"GET\"\n    })]).then(promesaResuelta => {\n      Promise.all(promesaResuelta.map(pR => pR.json())).then(resultadoBusqueda => {\n        console.log('Busqueda resultado:', resultadoBusqueda);\n        cambiarProductosBusqueda(resultadoBusqueda.data);\n      });\n    }).catch(err => {\n      console.log(err);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No hay productos disponibles. Vuelva a cargar la p\\xE1gina\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this);\n    });\n  }, [stringBusqueda]);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    id: \"main\",\n    children: /*#__PURE__*/_jsxDEV(SectionArticulo, {\n      productos: productosBusqueda,\n      estiloSection: \"destacado\",\n      idSection: \"busqueda\",\n      titulo: \"Resultado búsqueda\",\n      idDiv: \"divBusqueda\",\n      keyVal: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Busqueda, \"a3JY01l3+EZxOQzKxvqYoFAQjgs=\", false, function () {\n  return [useParams];\n});\n\n_c = Busqueda;\nexport default Busqueda;\n\nvar _c;\n\n$RefreshReg$(_c, \"Busqueda\");","map":{"version":3,"sources":["C:/Users/Jonatan Porteiro/Documents/Proyecto Senpai/tienda-react/src/components/busqueda.jsx"],"names":["React","useState","useEffect","useParams","SectionArticulo","Busqueda","console","log","stringBusqueda","productosBusqueda","cambiarProductosBusqueda","Promise","all","fetch","method","then","promesaResuelta","map","pR","json","resultadoBusqueda","data","catch","err"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SACIC,SADJ,QAEO,kBAFP,C,CAGA;;AACA,OAAO,cAAP;AACA,OAAOC,eAAP,MAA4B,mBAA5B;;;AAEA,SAASC,QAAT,GAAmB;AAAA;;AACfC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,MAAI;AAAEC,IAAAA;AAAF,MAAqBL,SAAS,EAAlC;AACA,QAAM,CAACM,iBAAD,EAAoBC,wBAApB,IAAgDT,QAAQ,CAAC,EAAD,CAA9D;AAEAC,EAAAA,SAAS,CAAE,MAAM;AAEb,QAAG,CAACM,cAAJ,EAAoB,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AAEpBG,IAAAA,OAAO,CAACC,GAAR,CAAY,CACRC,KAAK,CAAE,+CAA8CL,cAAe,EAA/D,EAAkE;AAAEM,MAAAA,MAAM,EAAE;AAAV,KAAlE,CADG,CAAZ,EAGCC,IAHD,CAGMC,eAAe,IAAI;AACrBL,MAAAA,OAAO,CAACC,GAAR,CAAYI,eAAe,CAACC,GAAhB,CAAoBC,EAAE,IAAIA,EAAE,CAACC,IAAH,EAA1B,CAAZ,EACCJ,IADD,CACOK,iBAAD,IAAuB;AACzBd,QAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCa,iBAAnC;AACAV,QAAAA,wBAAwB,CAACU,iBAAiB,CAACC,IAAnB,CAAxB;AACH,OAJD;AAKH,KATD,EAUCC,KAVD,CAUOC,GAAG,IAAI;AACVjB,MAAAA,OAAO,CAACC,GAAR,CAAYgB,GAAZ;AAEA,0BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ;AAKH,KAlBD;AAmBH,GAvBQ,EAuBN,CAACf,cAAD,CAvBM,CAAT;AAyBA,sBACI;AAAM,IAAA,EAAE,EAAC,MAAT;AAAA,2BACI,QAAC,eAAD;AACI,MAAA,SAAS,EAAIC,iBADjB;AAEI,MAAA,aAAa,EAAI,WAFrB;AAGI,MAAA,SAAS,EAAI,UAHjB;AAII,MAAA,MAAM,EAAI,oBAJd;AAKI,MAAA,KAAK,EAAI,aALb;AAMI,MAAA,MAAM,EAAK;AANf;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAYH;;GA1CQJ,Q;UAEoBF,S;;;KAFpBE,Q;AA4CT,eAAeA,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n    useParams\r\n} from \"react-router-dom\";\r\n//import './comun.css';\r\nimport './tienda.css';\r\nimport SectionArticulo from './sectionArticulo';\r\n\r\nfunction Busqueda(){\r\n    console.log('llego');\r\n    let { stringBusqueda } = useParams();\r\n    const [productosBusqueda, cambiarProductosBusqueda] = useState([]);\r\n    \r\n    useEffect( () => {\r\n\r\n        if(!stringBusqueda) return <div>No hay productos</div>;\r\n\r\n        Promise.all([\r\n            fetch(`http://localhost:4000/obtProductos?busqueda=${stringBusqueda}`, { method: \"GET\" })\r\n        ])\r\n        .then(promesaResuelta => {\r\n            Promise.all(promesaResuelta.map(pR => pR.json()))\r\n            .then((resultadoBusqueda) => {\r\n                console.log('Busqueda resultado:', resultadoBusqueda)\r\n                cambiarProductosBusqueda(resultadoBusqueda.data);\r\n            });\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n\r\n            return(\r\n                <div>\r\n                    No hay productos disponibles. Vuelva a cargar la página\r\n                </div>\r\n            );\r\n        });\r\n    }, [stringBusqueda]);\r\n\r\n    return(\r\n        <main id=\"main\">\r\n            <SectionArticulo \r\n                productos = {productosBusqueda} \r\n                estiloSection = {\"destacado\"} \r\n                idSection = {\"busqueda\"} \r\n                titulo = {\"Resultado búsqueda\"} \r\n                idDiv = {\"divBusqueda\"}\r\n                keyVal = { 1 }\r\n            />\r\n        </main> \r\n    );\r\n}\r\n\r\nexport default Busqueda;"]},"metadata":{},"sourceType":"module"}